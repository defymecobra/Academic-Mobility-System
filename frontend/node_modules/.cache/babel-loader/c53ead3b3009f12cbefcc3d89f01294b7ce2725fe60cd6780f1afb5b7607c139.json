{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nikita\\\\Desktop\\\\AcademicMobilitySystem\\\\frontend\\\\src\\\\Context\\\\SystemContext.jsx\",\n  _s = $RefreshSig$();\nimport React, { createContext, useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const SystemContext = /*#__PURE__*/createContext(null);\nconst SystemContextProvider = props => {\n  _s();\n  const [all_program, setAll_Program] = useState([]);\n  const [profilePrograms, setProfilePrograms] = useState(getDefaultCart());\n  const [userEmail, setUserEmail] = useState(\"\");\n  useEffect(() => {\n    //fetch('http://localhost:4000/allprograms')\n    //    .then((response) => response.json())\n    //    .then((data) => setAll_Program(data))\n\n    //if (localStorage.getItem('auth-token')) {\n    //    fetch('http://localhost:4000/getprofile', {\n    //        method: 'POST',\n    //        headers: {\n    //            Accept: 'application/form-data',\n    //            'auth-token': `${localStorage.getItem('auth-token')}`,\n    //            'Content-Type': 'application/json',\n    //        },\n    //        body: \"\",\n    //    })\n    //        .then((response) => response.json())\n    //        .then((data) => setProfilePrograms(data));\n    //}\n\n    const storedEmail = localStorage.getItem('user-email');\n    if (storedEmail) {\n      setUserEmail(storedEmail);\n    }\n  }, []);\n  const getTotalProfilePrograms = () => {\n    let totalPrograms = 0;\n    for (const program in profilePrograms) {\n      if (profilePrograms[program] > 0) {\n        totalPrograms += profilePrograms[program];\n      }\n    }\n    return totalPrograms;\n  };\n  const updateUserEmail = email => {\n    setUserEmail(email);\n  };\n  const contextValue = {\n    getTotalProfilePrograms,\n    all_program,\n    profilePrograms,\n    updateUserEmail,\n    userEmail\n  };\n  return /*#__PURE__*/_jsxDEV(SystemContext.Provider, {\n    value: contextValue,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n};\n_s(SystemContextProvider, \"/Iio3N4RmRg6OrFHHT3qGRDht8c=\");\n_c = SystemContextProvider;\nexport default SystemContextProvider;\nvar _c;\n$RefreshReg$(_c, \"SystemContextProvider\");","map":{"version":3,"names":["React","createContext","useEffect","useState","jsxDEV","_jsxDEV","SystemContext","SystemContextProvider","props","_s","all_program","setAll_Program","profilePrograms","setProfilePrograms","getDefaultCart","userEmail","setUserEmail","storedEmail","localStorage","getItem","getTotalProfilePrograms","totalPrograms","program","updateUserEmail","email","contextValue","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Nikita/Desktop/AcademicMobilitySystem/frontend/src/Context/SystemContext.jsx"],"sourcesContent":["import React, {createContext, useEffect, useState} from 'react';\r\n\r\nexport const SystemContext = createContext(null);\r\n\r\nconst SystemContextProvider = (props) => {\r\n    const [all_program, setAll_Program] = useState([]);\r\n    const [profilePrograms, setProfilePrograms] = useState(getDefaultCart());\r\n    const [userEmail, setUserEmail] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        //fetch('http://localhost:4000/allprograms')\r\n        //    .then((response) => response.json())\r\n        //    .then((data) => setAll_Program(data))\r\n\r\n        //if (localStorage.getItem('auth-token')) {\r\n        //    fetch('http://localhost:4000/getprofile', {\r\n        //        method: 'POST',\r\n        //        headers: {\r\n        //            Accept: 'application/form-data',\r\n        //            'auth-token': `${localStorage.getItem('auth-token')}`,\r\n        //            'Content-Type': 'application/json',\r\n        //        },\r\n        //        body: \"\",\r\n        //    })\r\n        //        .then((response) => response.json())\r\n        //        .then((data) => setProfilePrograms(data));\r\n        //}\r\n\r\n        const storedEmail = localStorage.getItem('user-email');\r\n        if (storedEmail) {\r\n            setUserEmail(storedEmail);\r\n        }\r\n    }, [])\r\n\r\n    const getTotalProfilePrograms = () => {\r\n        let totalPrograms = 0;\r\n        for (const program in profilePrograms) {\r\n            if (profilePrograms[program] > 0) {\r\n                totalPrograms += profilePrograms[program];\r\n            }\r\n        }\r\n        return totalPrograms;\r\n    }\r\n\r\n    const updateUserEmail = (email) => {\r\n        setUserEmail(email);\r\n    }\r\n\r\n    const contextValue = {\r\n        getTotalProfilePrograms,\r\n        all_program,\r\n        profilePrograms,\r\n        updateUserEmail,\r\n        userEmail\r\n    };\r\n\r\n    return (\r\n        <SystemContext.Provider value={contextValue}>\r\n            {props.children}\r\n        </SystemContext.Provider>\r\n    )\r\n\r\n}\r\n\r\nexport default SystemContextProvider;"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,aAAa,EAAEC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhE,OAAO,MAAMC,aAAa,gBAAGL,aAAa,CAAC,IAAI,CAAC;AAEhD,MAAMM,qBAAqB,GAAIC,KAAK,IAAK;EAAAC,EAAA;EACrC,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACS,eAAe,EAAEC,kBAAkB,CAAC,GAAGV,QAAQ,CAACW,cAAc,CAAC,CAAC,CAAC;EACxE,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAE9CD,SAAS,CAAC,MAAM;IACZ;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA,MAAMe,WAAW,GAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC;IACtD,IAAIF,WAAW,EAAE;MACbD,YAAY,CAACC,WAAW,CAAC;IAC7B;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMG,uBAAuB,GAAGA,CAAA,KAAM;IAClC,IAAIC,aAAa,GAAG,CAAC;IACrB,KAAK,MAAMC,OAAO,IAAIV,eAAe,EAAE;MACnC,IAAIA,eAAe,CAACU,OAAO,CAAC,GAAG,CAAC,EAAE;QAC9BD,aAAa,IAAIT,eAAe,CAACU,OAAO,CAAC;MAC7C;IACJ;IACA,OAAOD,aAAa;EACxB,CAAC;EAED,MAAME,eAAe,GAAIC,KAAK,IAAK;IAC/BR,YAAY,CAACQ,KAAK,CAAC;EACvB,CAAC;EAED,MAAMC,YAAY,GAAG;IACjBL,uBAAuB;IACvBV,WAAW;IACXE,eAAe;IACfW,eAAe;IACfR;EACJ,CAAC;EAED,oBACIV,OAAA,CAACC,aAAa,CAACoB,QAAQ;IAACC,KAAK,EAAEF,YAAa;IAAAG,QAAA,EACvCpB,KAAK,CAACoB;EAAQ;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACK,CAAC;AAGjC,CAAC;AAAAvB,EAAA,CA1DKF,qBAAqB;AAAA0B,EAAA,GAArB1B,qBAAqB;AA4D3B,eAAeA,qBAAqB;AAAC,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}